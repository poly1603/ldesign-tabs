# Chrome 标签页视觉实现指南

## 🎨 视觉效果详解

### 标签形状对比

#### 传统矩形标签
```
┌────────────┐
│   标签页   │
└────────────┘
```

#### Chrome 梯形标签
```
    ╱────────╲
   ╱   标签页  ╲
  ╱____________╲
```

### 实际实现的梯形曲线

```
标签顶部视图：

     25%                    75%
      ●━━━━━━━━━━━━━━━━━━━━●
     ╱                        ╲
    ╱                          ╲
   ╱                            ╲
  ●                              ●
 6%                              94%
```

**关键点位置**：
- **0%-6%**: 左下到左侧曲线起点
- **6%-25%**: 左侧曲线（9个控制点，形成平滑贝塞尔曲线）
- **25%-75%**: 顶部水平区域（放置标题文字）
- **75%-94%**: 右侧曲线（9个控制点，与左侧对称）
- **94%-100%**: 右侧曲线到右下

## 🎭 状态视觉效果

### 1. 非激活状态（默认）

**视觉特征**：
- 背景色：`#dee1e6` → `#c8ccd1` (浅灰渐变)
- 边框：1px 半透明黑色 (`rgba(0, 0, 0, 0.1)`)
- 阴影：轻微底部阴影
- 文字色：`#5f6368` (中灰色)
- 图标色：继承文字色
- 分隔线：可见

```css
/* 非激活标签渐变示意 */
┌─ #dee1e6 (浅灰色)
│  ░░░░░░░░
│  ░░░░░░░░ (渐变过渡)
└─ #c8ccd1 (深灰色)
```

### 2. Hover 状态

**视觉特征**：
- 背景色：`#eeeff1` → `#dfe2e5` (更浅的渐变)
- 边框：1px 深色 (`rgba(0, 0, 0, 0.15)`)
- 阴影：增强，2px 深度
- 文字色：`#3c4043` (深灰色)
- 图标色：继承文字色
- 分隔线：淡出隐藏
- 关闭按钮：显示 (opacity: 0.65)
- z-index：提升至 5

```css
/* Hover 状态效果 */
┌─ #eeeff1 (更浅灰)
│  ▒▒▒▒▒▒▒▒
│  ▒▒▒▒▒▒▒▒ (渐变过渡)
└─ #dfe2e5 (浅灰)
    ↑
   向上浮起 (shadow)
```

### 3. Active 状态（激活）

**视觉特征**：
- 背景色：`#ffffff` → `#fafbfc` (白色渐变)
- 边框：1px 淡色 (`rgba(218, 220, 224, 0.6)`)
- 阴影：最强，3px + 8px 深度
- 文字色：`#202124` (深黑色)
- 文字重量：500 (Medium)
- 图标色：`#1a73e8` (Chrome 蓝)
- 分隔线：完全隐藏
- 关闭按钮：完全显示 (opacity: 1)
- z-index：最高 10
- 内部高光：顶部白色高光

```css
/* Active 状态效果 */
┌─ #ffffff (纯白)
│  ████████ ← 顶部高光
│  ████████
└─ #fafbfc (淡白)
    ↑↑
   明显浮起 (strong shadow)
   ✨ 最亮、最突出
```

## 🌈 颜色规范

### 亮色主题

| 状态 | 背景起始 | 背景结束 | 文字颜色 | 边框颜色 |
|------|---------|---------|---------|---------|
| 默认 | `#dee1e6` | `#c8ccd1` | `#5f6368` | `rgba(0,0,0,0.1)` |
| Hover | `#eeeff1` | `#dfe2e5` | `#3c4043` | `rgba(0,0,0,0.15)` |
| Active | `#ffffff` | `#fafbfc` | `#202124` | `rgba(218,220,224,0.6)` |

### 暗色主题

| 状态 | 背景起始 | 背景结束 | 文字颜色 | 边框颜色 |
|------|---------|---------|---------|---------|
| 默认 | `#35363a` | `#2d2e31` | `#bdc1c6` | `rgba(255,255,255,0.08)` |
| Hover | `#3c4043` | `#343539` | `#e8eaed` | `rgba(255,255,255,0.12)` |
| Active | `#292a2d` | `#25262a` | `#e8eaed` | `rgba(255,255,255,0.1)` |

## 📏 尺寸规范

### 标准尺寸 (md)

```
        120px - 240px
    ◄─────────────────►
    
    ╱─────────────────╲  ▲
   ╱      标签标题      ╲  │ 36px
  ╱____________________╲  ▼
  
  ◄──►              ◄──►
  20px              24px
  左内边距          右内边距
```

### 固定标签

```
    48px
   ◄───►
   
   ╱───╲   ▲
  ╱ 🏠 ╲   │ 36px
 ╱_____╲   ▼
 
 只显示图标
```

### 小尺寸 (xs/sm)

```
  100px - 240px
  ◄─────────►
  
  ╱────────╲  ▲
 ╱   标签   ╲  │ 32px
╱__________╲  ▼
```

### 大尺寸 (lg/xl)

```
    140px - 240px
  ◄─────────────►
  
  ╱─────────────╲  ▲
 ╱    标签标题    ╲  │ 40px
╱_______________╲  ▼
```

## 🔄 动画时序

### Hover 动画（150ms）

```
时间轴: 0ms ──────────► 150ms

背景色: #dee1e6 ━━━━━━━► #eeeff1
阴影:   无阴影  ━━━━━━━► 2px阴影
文字:   #5f6368 ━━━━━━━► #3c4043
关闭:   opacity:0 ━━━━━► opacity:0.65
层级:   z-index:1 ━━━━━► z-index:5

缓动函数: cubic-bezier(0.4, 0, 0.2, 1)
```

### Active 动画（150ms）

```
时间轴: 0ms ──────────► 150ms

背景色: #dee1e6 ━━━━━━━► #ffffff
阴影:   2px     ━━━━━━━► 8px
文字:   #5f6368 ━━━━━━━► #202124
关闭:   opacity:0.65 ━━► opacity:1
层级:   z-index:5 ━━━━━► z-index:10
字重:   400     ━━━━━━━► 500

缓动函数: cubic-bezier(0.4, 0, 0.2, 1)
```

### 分隔线动画（150ms）

```
相邻标签 Hover/Active 时:

opacity: 1 ━━━━━━━━━━━━━━► 0

淡出消失
```

## 🎯 交互区域

### 点击热区

```
完整标签可点击区域:

╱─────────────────╲
│ ◄─ 全部可点击 ─► │
│                  │
│  [图标] 标题 [×] │
│                  │
╲__________________╱

关闭按钮独立热区:
                [×]
             ◄─22px─►
```

### 拖拽区域

```
整个标签都可拖拽:

╱─────────────────╲
│ ≡≡≡ 可拖拽 ≡≡≡  │ ← 拖拽手柄
╲__________________╱

拖拽时:
- cursor: grabbing
- opacity: 0.6
- transform: scale(0.98)
```

## 💫 视觉层次

### Z-index 层级系统

```
层级 10: Active 标签 ●
         └─ 最高优先级，始终在最上层

层级 5:  Hover 标签 ◐
         └─ 中等优先级，覆盖普通标签

层级 1:  普通标签 ○
         └─ 基础层级

层级 -1: 背景和边框伪元素
         └─ 不影响交互层级
```

### 阴影深度

```
层级 3: Active 标签
        ↓↓↓↓↓ (8px blur + 3px blur)
        
层级 2: Hover 标签
        ↓↓↓ (4px blur + 2px blur)
        
层级 1: 普通标签
        ↓ (2px blur)
```

## 🎨 实际代码示例

### HTML 结构

```html
<div class="ld-tab-item">
  <!-- 分隔线 -->
  <div class="ld-tab-separator"></div>
  
  <!-- 标签内容 -->
  <span class="ld-tab-icon">🏠</span>
  <span class="ld-tab-title">首页</span>
  <button class="ld-tab-close">×</button>
</div>
```

### CSS 层级

```
┌─────────────────────────┐
│  .ld-tab-item           │ ← 容器
│  ┌───────────────────┐  │
│  │ ::before (边框)   │  │ ← z-index: -1
│  │ ::after (背景)    │  │ ← z-index: -1
│  └───────────────────┘  │
│                          │
│  [图标] 标题 [关闭]      │ ← z-index: auto
│  [分隔线]                │ ← position: absolute
└─────────────────────────┘
```

## 🌟 完整效果预览

### 标签栏整体布局

```
┌────────────────────────────────────────────────────────┐
│  ╱首页╲  ╱项目╲  ╱─设置─╲  ╱关于╲  ╱帮助╲   [+]      │
│ ◐─────◐  ●───●  ●─────●  ○───○  ○───○              │
│          └─Active                                      │
│                                                        │
└────────────────────────────────────────────────────────┘
   ↑        ↑       ↑       ↑       ↑        ↑
  固定    普通   激活中   Hover    普通    新增按钮
```

### 响应式效果

```
宽屏模式 (>1200px):
╱─标签1─╲ ╱─标签2─╲ ╱─标签3─╲ ╱─标签4─╲

中屏模式 (768px-1200px):
╱标签1╲ ╱标签2╲ ╱标签3╲ ╱标签4╲

窄屏模式 (<768px):
╱─1─╲ ╱─2─╲ ╱─3─╲ ╱─4─╲ [◀][▶]
```

## 📖 设计理念

### Chrome 的设计哲学

1. **清晰的层次** - 激活标签明显突出
2. **流畅的过渡** - 所有状态变化都有动画
3. **智能的细节** - 分隔线自动隐藏
4. **优雅的形状** - 梯形曲线符合视觉美感
5. **一致的体验** - 亮色暗色保持统一风格

### 实现要点

- ✅ 使用双伪元素分离背景和边框
- ✅ 18点 polygon 创建平滑梯形
- ✅ 智能分隔线系统
- ✅ 三级 z-index 管理
- ✅ 统一的缓动函数
- ✅ 完整的暗色模式

---

**视觉参考**: Google Chrome 120+  
**更新时间**: 2025-10-24  
**文档状态**: ✅ 完整实现
